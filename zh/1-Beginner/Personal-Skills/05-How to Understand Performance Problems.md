# 如何理解效能問題
[//]: # (Version:1.0.0)
學習理解執行的程式的效能問題與學習 debug 是一樣不可避免的。即使你完美、精確地理解了你的程式碼執行時所產生的開銷，你的程式碼也會呼叫其他你幾乎不能控制的或者幾乎不可看透的軟體系統。然而，實際上，通常效能問題和偵錯有點不一樣，而且往往要更簡單些。

假如你或你的客戶認為你的一個系統或子系統執行太慢了。在你把它變快之前，你必須構建一個它為什麼慢的思維模型。為了做到這個，你可以使用一個圖表工具或者一個好的日誌，去發現時間或資源真正被花費在什麼地方。有一句很有名的格言：90%的時間會花費在10%的程式碼上。在效能這個話題上，我想補充的是輸入輸出開銷的重要性。通常大部分時間是以某種形式花費在 I/O 上。發現昂貴的 I/O 和昂貴的10%程式碼是構建思維模型的一個好的開始。

計算機系統的效能有很多個維度，很多資源會被消耗。第一種資源是“掛鐘時間”，即執行程式的所有時間。記錄“掛鐘時間”是一件特別有價值的事情，因為它可以告訴我們一些圖表工具表現不了的不可預知的情況。然而，這並不總是描繪了整幅圖景。有時候有些東西只是稍微多花費了一點點時間，並且不會引爆什麼問題，所以在你真實要處理的計算機環境中，多一些處理器時間可能會是更好的選擇。相似的，記憶體，網路頻寬，資料庫或其他伺服器訪問，可能最後都比處理器時間要更加昂貴。

競爭共享的資源被同步使用，可能導致死鎖和互斥。死鎖是由於不恰當的同步和請求資源導致執行緒執行能力的喪失。互斥是對於資源訪問的不恰當安排。如果這是可以預料到的，最好在你的項目開始前就採取措施來地衡量執行緒爭搶。即使執行緒爭搶不會發生，對於有效維護它們也是很有幫助的。

Next [如何修復效能問題](06-How to Fix Performance Problems.md)
